# check if default.config.ini was changed and staged
if git diff --cached --name-only | grep -q 'default\.config\.ini$'; then
  if [ "$SKIP_CONFIG_BUILD" = "1" ]; then
    echo ""
    echo "‚è≠Ô∏è  Skipping config type generation (SKIP_CONFIG_BUILD=1)"
    echo ""
  else
    echo ""
    echo "üìù Hey! You changed default.config.ini, so let me regenerate the config types first before we commit your change..."
    echo "   (To skip this, run: SKIP_CONFIG_BUILD=1 git commit ...)"
    echo ""
    yarn bks:config:build
    git add apps/studio/src/typings/bksConfig.d.ts
    echo ""
    echo "‚úÖ Config types regenerated and staged!"
    echo ""
  fi
fi
